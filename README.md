# Веб-сервер по обработке адресов веб-страниц

## Запуск проекта
1. Находясь в терминале на уровне корня проекта вызвать команды ``make run-service`` или ``build-and-run-service``
2. После запуска сервиса вызвать команду ``make send-urls`` для отправки данных в сторадж и получения статусов по ссылкам
3. Далее можно вызвать ``make send-ids`` для получения pdf-файла, в котором будут отражены статусы ссылок, которые относятся к отправленным id'шникам

## Примечания
1. Для корректного завершения работы сервиса я использовал паттерн Graceful Shutdown и инструментарий веб-фреймворка fiber. 
Учебный материал брал из этой статьи(https://habr.com/ru/articles/908344/?ysclid=mhx1mxapi0906463461). Для уведомления пользователей
об аварийном состоянии сервера сделал миддлвару.
2. Если хранить данные только в гошной мапе, то при перезагрузке сервиса эти данные будут стёрты из оперативной памяти, 
поэтому было реализовано персистентное хранилище в виде файла `persistent_storage.txt` и базовая работа с этим файлом(добавление/удаление данных).
Для перекачки данных из оперативы на ссд был реализован крон, который раз в 5 секунд прокидывает данные из мапы в файл. Данный подход был
частично позаимствован из реализации работы буфера в Postgres, но в сильно упрощённом виде.
3. Так же была добавлена валидация входящих запросов при помощи validator v10.
4. Проект выполнен в стилистике чистой архитектуры, поэтому в будущем можно безболезненно изменять любой из слоёв проекта

## Что можно улучшить в будущем.
1. Можно добавить конфиги из json или yaml
2. Можно усовершенствовать работу с хранилищем или вместо него припилить к проекту postgres